<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>CRUD</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

        <div id="header">
            <h1>Crud</h1>
        </div>
        <div id="menu">
            <ul>
                <li>
                    <a href="index.html">Home</a>
                </li>
                <li>
                    <a href="add.html">Add</a>
                </li>
            </ul>
        </div>
<div id="main-content">
    <h2>All Records</h2>
    <table cellpadding="7px">
        <thead>
            <th>Id</th>
            <th>Title</th>
            <th>Image Link</th>
            <th>Description</th>
            <th>Action</th>
        </thead>
        <tbody id="main">

           <!-- Load json data -->


        </tbody>
    </table>
</div>








<h1>mahedi</h1>


<script>
    let main = document.getElementById("main");


function makeHtmlElement(id, title, imageLink, description){

let tr = document.createElement("tr")
let td = document.createElement("td")
let td2 = document.createElement("td")
let td3 = document.createElement("td")
let td4 = document.createElement("td")
let td5 = document.createElement("td")
let a = document.createElement("a")
let a2 = document.createElement("a")


a.setAttribute('href', 'hello')
a2.setAttribute('href', 'hello')
td.innerText = id
td2.innerText = title
td3.innerText = imageLink
td4.innerText = description
a.innerText = 'Edit'
a2.innerText = 'delete'

main.appendChild(tr)
tr.appendChild(td)
tr.appendChild(td2)
tr.appendChild(td3)
tr.appendChild(td4)
tr.appendChild(td5)
td5.appendChild(a)
td5.appendChild(a2)
}

function dataLoad(){
    fetch('http://localhost/MyApi/api/read.php').then(res => res.json())
.then(json => {
json.body.forEach(post => {
    makeHtmlElement(post.id, post.title, post.image_link, post.description.substr(0,30))
});
})
}
dataLoad()
</script>
</body>
</html>
