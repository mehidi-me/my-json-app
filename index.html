<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
    <div class="container" id="main"></div>


    <script>
        let main = document.getElementById("main");


function makeHtmlElement(img_link, title , pra, id){
    let div = document.createElement("div")
    let a = document.createElement("a")
    let div1 = document.createElement("div")
    let img = document.createElement("img")
    let div2 = document.createElement("div")
    let h1 = document.createElement("h1")
    let p = document.createElement("p")

    div.className = 'post-box'
    div.id = 'post-box'
    div1.className = 'image'
    div2.className = 'content'
    a.setAttribute('onclick', `myfunc(${id})`)
    img.setAttribute('src', img_link)
    h1.innerText = title
    p.innerText = pra

    main.appendChild(div)
    div.appendChild(a)
    a.appendChild(div1)
    div1.appendChild(img)
    a.appendChild(div2)
    div2.appendChild(h1)
    div2.appendChild(p)
}

fetch('http://localhost/MyApi/api/read.php').then(res => res.json())
.then(json => {
    json.body.forEach(post => {
        makeHtmlElement(post.image_link, post.title , post.description.substr(0,30), post.id)
    });
})
    </script>
</body>
</html>